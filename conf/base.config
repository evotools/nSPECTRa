
process {
  withLabel: small{
    cpus = 1
    memory = { 4.GB * task.attempt }
    time = {6.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: medium{
    cpus = 1
    memory = { 16.GB * task.attempt }
    time = { 12.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: medium_mem{
    cpus = 4
    memory = { 16.GB * task.attempt }
    time = { 12.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: medium_largemem{
    cpus = 4
    memory = { 32.GB * task.attempt }
    time = { 12.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: medium_multi{
    cpus = 4
    memory = { 16.GB * task.attempt }
    time = { 12.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: vep{
    conda = "$baseDir/envs/vep-environment.yml" 
    cpus = 4
    memory = { 16.GB * task.attempt }
    time = { 12.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: renv{
    conda = "$baseDir/envs/r-environment.yml" 
    cpus = 1
    memory = { 32.GB * task.attempt }
    time = { 23.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: renv_multi{
    conda = "$baseDir/envs/r-environment.yml" 
    cpus = 8
    memory = { 16.GB * task.attempt }
    time = { 47.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: renv_large{
    conda = "$baseDir/envs/r-environment.yml" 
    cpus = 1
    memory = { 256.GB * task.attempt }
    time = { 23.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: large{
    cpus = 4
    memory = { 32.GB * task.attempt }
    time = { 23.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: large_largemem{
    cpus = 4
    memory = { 96.GB * task.attempt }
    time = { 23.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: large_smallmem{
    cpus = 8
    memory = { 4.GB * task.attempt }
    time = { 47.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: largemem{
    cpus = 1
    memory = { 64.GB * task.attempt }
    time = { 23.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withLabel: compile{
    cpus = 4
    memory = { 4.GB * task.attempt }
    time = {4.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
  withName: sdm{
    conda = "$baseDir/envs/sdm-environment.yml" 
    cpus = 1
    memory = { 16.GB * task.attempt }
    time = {23.h * task.attempt }
    clusterOptions = { "-P roslin_ctlgh -l h_vmem=${task.memory.toString().replaceAll(/[\sB]/,'')}" }
  }
}
